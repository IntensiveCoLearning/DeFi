---
timezone: Asia/Shanghai
---

# Neal Li

1. 自我介绍
    web3 开发者，21年开始关注web3。对 DeFi 有一定了解，但希望借此机会系统化学习。
2. 你认为你会完成本次残酷学习吗？
    会的。

## Notes

<!-- Content_START -->

### 2024.08.19
#### 稳定币
稳定币是基础的 DeFi 货币乐高，DeFi 的基本面额----核心原始。
稳定币通常波动性很小，是简单和更复杂金融产品的组成部分，构成了流动性池的基础。为我们提供了一种熟悉的转移资本和存储价值的方法，很容易与传统金融连接。
稳定币是一种特定类别的加密资产，使用各种机制以一个账户单位（通常是一种美元或其他法定货币）维持其价值。

#### 为什么需要稳定币
银行费用和交易所费用。
交易时在区块链上维护美元的能力消除了来回转移到银行账户的阻力，减少了费用和时间。来自交易所的银行存款需要几天时间才能清算，假期和周末可能会放慢速度，但区块链是24/7/365运作的。
这些问题为稳定币创造了最佳用例：在世界各地进行无阻力、安全和低费用的资金转移。

区块链提供了比传统银行系统更高的安全性，交易以加密方式保护并直接发送到用户的钱包。
要在区块链上完成交易，您所需要做的就是正确输入您的钱包地址，并且保证转移没有被盗风险。
加密货币转移需要个人责任。

#### 稳定币进入市场
2014年，随着BitUSD、NuBits和RealCoin（Tether）的推出，稳定币被推向市场。这三者的区别在于用于抵押稳定币的挂钩机制。
- RealCoin（Tether）使用法定货币和其他资产，如商业票据，国库券和债券来抵押其稳定币; 
- BitUSD使用Bitshares本地令牌和其他加密货币; 
- NuBits是有史以来第一个算法稳定币，基于智能合约中的一组复杂算法创建和燃烧。

快进到2022年，有许多加密货币项目发行稳定币。但是像BitUSD和NuBits这样的OG发生了什么？
让我们首先回顾一下2014年发行的三种稳定币-“2014年类”。剧透：其中只有一种仍在市场上交易，增长巨大，目前是市值第三大加密货币。

##### 2014届毕业生
- BitUSD
    2014年7月，Dan Larimer 和 Charles Hoskinson 在Bitshares 区块链上发行了有史以来第一个名为 BitUSD 的稳定币，该稳定币由 Bitshares 的本地代币 BTS 和其他加密资产支持。两位创始人在加密领域都很有名。Charles Hoskinson 是以太坊的联合创始人之一，而 Dan Larimer 是 Block One 的 CTO 和核心开发人员，该公司于2017年创立了 EOS。
    成立后，BTS 被用作其他稳定币的抵押品，这些稳定币由菲律宾比索等本地货币支持。为了使BitUSD保持稳定，用作抵押品的 BTS 金额必须至少是一美元价值的两倍。
    BitUSD 的挂钩在2017年打破，这是由于加密市场的整体波动性和即时清算造成的，并且该代币不再活跃交易。
- NuBits
    NuBits 于2014年9月作为“铸币税风格”系统稳定币推出。NuBits 不与任何资产挂钩，而是依靠套利和博弈论来维持其美元挂钩。NuBits 的工作方式类似于算法稳定币，它根据复杂的算法过程创建和燃烧新的代币，以保持价格稳定。
    NuBits 的挂钩于2016年5月首次打破，此前交易员和 NuBits 持有者开始关注 BTC 价格的飙升。他们用大量的 NuBits 交换比特币。NuBits 的这种大规模抛售增加了其供应，降低了市值，一个 NuBits 的价格跌破了一美元。只有当发行稳定币的实体（在这种情况下，发行NuBits的NuShares）没有必要的资本来回购市场上的NuBits新供应时，价格才会崩溃。这是2018年第二次打破联系汇率时的情况。此后，NuBits 从未完全恢复，交易量接近于零，这最终是由于人们对 NuBits 缺乏信心造成的。这导致NuBits 的买家减少，由于缺乏购买压力，因此卖出压力更大。
- Tether（RealCoin）
    2014届的第三个也是最后一个稳定币是 Tether。Tether 于2014年11月由 Bitfinex 交易所成立，名为“RealCoin”，并在推出的同一个月重新命名，以避免与山寨币联系在一起。Tether 是一种中心化的、由法币支持的加密货币，这应该意味着在区块链上发布的每一个新的 Tether代币（USDT）都由公司金库中的一个真实的世界资产支持。据称，情况并非总是如此，在过去几年中，Tether 和 Bitfinex 目睹了几次攻击和不良媒体。2016年，Bitfinex 被黑客攻击了7200万美元，这仍然是加密历史上最大的黑客攻击之一，其次是2017年价值3100万美元的 Tether 黑客攻击。在 Tether 被指控操纵市场之后，调查于2018年和2019年进行。快进到2022年，围绕Tether的资金管理仍存在争议。

#### 更加稳定的未来
稳定币将继续存在，自2014年首次引入加密市场以来，它们已经走过了漫长的道路。投资者和交易员利用它们将资金投入波动性较小的资产，并在交易所进行交易。意识到投资稳定币所带来的风险是必不可少的。在高波动时期，打破挂钩的可能性增加，特别是对于那些没有足够资产支持的稳定币。当我们意识到加密市场的高波动性非常普遍时，这一点尤其令人担忧。然而，随着整体加密市场市值的增长，以及美国国债多样化其持有以支持其加密货币，稳定币失去挂钩的问题最终应该会随着时间的推移而减少，加密货币可以期待一个更稳定的未来。

### 2024.08.20
#### 链下抵押稳定币
这些稳定币由传统资产（如证券和商品）支持，需要托管人进行安全保管。支持资产由稳定币发行人拥有。

链下抵押是资本效率最高的稳定币之一
（1. 它们不需要过度抵押。
（2. 由美元、债券、贷款或其他现金等价物等各种资产支持。

不同类别的链下抵押稳定币：
1. Fiat 抵押稳定币
    Fiat 支持的稳定币是加密生态系统中最常用和最常见的稳定币，它维持着法定货币储备，如英镑或美元。每一单位的法币，就应该创造一美元的稳定币。这意味着稳定币应该有相等比例的法定货币储备，以确保其挂钩得以维持。还有其他稳定币与欧元、日元和其他主要货币挂钩。
    Tether 是最早的稳定币之一，创建于2014年，此后一直上升到最高的资本化，因为它在所有加密货币中排名第四，是市值最大的稳定币。它也一直是监管审查的焦点，因为它涉嫌与 Bitfinex 的关联，以及它在抵押品方面的不透明历史。
    USD Coin（USDC）是另一种流行的稳定币。USDC 由Circle 创建的联盟Center管理，该联盟包括 Coinbase 和 Bitmain 等成员。中心旨在通过连接地球上的每个人，商人，金融服务和货币来改变全球金融格局。他们的网站上说，他们是由“完全储备资产”支持的。Circle 以其在分享支持其代币的资产方面的透明度而闻名。
2. 商品抵押稳定币
    这些稳定币由其他类型的可互换资产（如黄金、贵金属、石油和真实的房地产）支持。这些稳定币为投资者提供了交易有形资产的机会，是随着时间积累量变撬动质变的能力。由于这些类型的抵押品中有许多是商品，因此很难运输和储存。一些人认为，这些商品支持的稳定币提供了最好的数字世界。它使投资者有机会投资这些商品，使它们更容易获得。
    商品支持稳定币最常见的例子之一是PAX Gold。每个 pax 代币由一金衡盎司的400盎司金条支持。

稳定币风险
- 稳定币受到其所挂钩资产的健康状况的影响。
- 监管总是对这些集中的、链外抵押的稳定币构成风险。
- 当涉及到链下抵押资产时，总是存在交易对手风险。
- 价格攻击（价格操纵攻击）也是稳定币的一种风险，通常被称为二级市场操纵。

#### 加密抵押稳定币
是由链上加密资产支持的稳定币。
与由中央实体发行的法定抵押稳定币不同，加密抵押稳定币是分散的，它们是由将加密抵押品存款到DeFi协议中的用户铸造的。
<!-- 例如，目前最流行的加密抵押稳定币是 DAI，它是由将 ETH 和 USDC 等资产作为抵押品存款到 Maker 协议中的用户铸造的。通过这样做，用户可以通过抵押他们的加密资产来有效地获得DAI贷款。 -->
由于加密资产通常不稳定，加密抵押的稳定币被过度抵押，以确保它们保持与美元的挂钩。
<!-- 例如，要铸造100美元的 DAI，您需要存款价值超过170美元的 ETH 作为抵押品。这确保了如果 ETH 价格崩溃，仍然有足够的资产支持 DAI 的挂钩。 -->
优势
- 无信任
    由于加密抵押稳定币纯粹由链上加密资产支持，因此不存在交易对手风险，因此可能没有足够的抵押品来支持价格挂钩。您不需要相信任何第三方有足够的加密抵押品来支持挂钩，因为抵押过程是由Etherscan上可验证的智能合约代码触发的。
- 无需许可，可抵制审查和监管
    由于稳定币的铸造和管理的分散性，加密抵押稳定币通常会抵制审查和政府监管。
    这意味着：没有人能阻止你使用这些稳定币，政府很难关闭这些稳定币。
弱点
- 维持钉住汇率制的困难和克服它的权衡
    尽管加密抵押的稳定币被过度抵押以管理波动性，但它们在保持价格挂钩方面仍然不如法定抵押的稳定币。这一点在2020年3月的崩盘中可以看出，当时DAI的价格飙升至1.10美元，而USDC的价格则升至1.06美元。为了改善钉住汇率制，一些协议（如Maker）增加了额外的机制，允许仲裁员不断进行交易以维持钉住汇率制。
    <!-- 例如，Maker推出了他们的挂钩稳定模块，允许用户直接将其他稳定币（主要是法定抵押）交换为DAI，而不是通过存放加密抵押品来获得贷款。沿着，他们还引入了法定抵押的稳定币，如USDC和GUSD，作为DAI允许的抵押品类型。这减少了铸造DAI的摩擦，有助于DAI保持其钉住。然而，DAI还必须承担这些集中式稳定币的交易对手和监管风险。如果USDC或GUSD失去钉住汇率或被关闭，DAI的钉住汇率也将受到影响。 -->
- 资本低效
    资本效率是指必须锁定以支持稳定币的抵押品数量。加密抵押稳定币是资本效率最低的稳定币类型，因为它们需要过度抵押。要铸造价值1美元的DAI，您需要大约价值2美元的ETH（如果您想安全地保护自己免受清算，则需要更多）。

#### 算法稳定币
算法稳定币利用了保持价格挂钩的算法。他们通过各种机制调节稳定币的供应来做到这一点。算法稳定币最常用的机制是铸币税。
铸币税货币稳定币
铸币税是货币面值和生产成本之间的差额。
*例如，10美元钞票的铸币税是10美元减去与生产该钞票相关的材料和印刷成本。如果生产一张10美元钞票的成本是0.01美元，那么该钞票的运费是9.99美元。*
这一概念已被应用于算法稳定币，它创建了一种机制，允许人们以1美元的成本铸造或燃烧稳定币。当稳定币的价格波动远离1美元时，铸币税创造了一个套利机会，一旦采取行动，就会将稳定币推回到1美元。
铸币税算法稳定币最流行的例子可以在Terra生态系统（区块链）中看到，其中有两个相互关联的主要代币：LUNA（Terra区块链的原生币，类似于ETH）和 UST（Terra区块链的原生稳定币）。
每个UST可以通过燃烧价值1美元的LUNA来铸造。如果UST失去了与美元的联系，并且超过了1美元，那么持有LUNA的人就会被激励烧掉LUNA来铸造UST，然后卖掉UST来从铸币税中获利。铸造1美元UST需要1美元的LUNA，目前UST的价值超过1美元，因此如果他们在公开市场上出售UST，他们将获得套利利润。抛售压力将UST价格推回到不低于1美元，因为一旦UST回到1美元，铸币税过程将不再有利可图。
另一方面，价值1美元的LUNA可以通过燃烧1 UST来铸造。当UST低于1美元（例如0.95美元）时，人们会被激励燃烧UST并减少其对铸币厂LUNA的供应，从LUNA的铸币税中获利（每燃烧UST将获得0.05美元的利润）。UST的供应收缩将其价格推回到不超过1美元，因为一旦UST回到1美元，铸币税过程也将不再有利可图。
从双向铸币税机制来看，很明显，如果它像预期的那样工作，UST价格总是会达到1美元的均衡。
优势
- 无信任
    算法稳定币没有交易对手风险。铸币税机制由经过审计的开源智能合约代码定义，每个人都可以查看。
- 资本效率
    由于不需要锁定任何抵押品，算法稳定币是所有三种类型中资本效率最高的稳定币。

弱点
- 未经测试和高风险
    许多算法稳定币已经是过去式了。
    *像空套美元（ESD）这样的稳定币依赖于不可持续的激励措施来保持其价格挂钩，并且已经失去了大部分（如果不是全部的话）价值（ESD现在的交易价格低于0.01美元）。*
    最近也是最大的算法稳定币崩溃是5月9日的UST，当时公开市场的大量抛售将其价格推高至0.70美元。如上所述，低于1美元的脱钩将触发套利者燃烧1美元以铸造价值1美元的LUNA，减少UST供应，将其价格推高至1美元。然而，Terra的利益相关者开始失去信心，认为UST将恢复其挂钩，因为铸币税的数量将开始过度膨胀LUNA的供应。这导致了下面所示的负反馈循环。
    这种负反馈循环与传统金融机构可能发生的银行挤兑非常相似。在这个特殊情况下，UST的脱钩被称为“死亡螺旋”，导致Terra生态系统完全崩溃，UST的价格跌至<$0.04，LUNA的价格跌至不到一美分（<$0.01）。

### 2024.08.21
#### 稳定币的未来
尽管加密货币市场以波动性而闻名，但稳定币市场的增长并不受这种不可预测性的影响。
尽管加密行业以外的采用率极低，但市值增长仍呈指数级增长。
*创新者 -> 早期采用者 -> 早期大众 -> 后期大众*
稳定币可以被视为处于早期采用阶段，在这个阶段，信任建立在最低可行性的解决方案上，以刺激主流的采用。
让我们分解一下什么活动构成了采用的不同阶段，因为我们关注的是创新者、早期采用者和早期大众。
<!-- 加密货币交易所的交易对在交易所和钱包之间转移资金，早些时候，稳定币被引入作为一种将价值与加密生态系统之外的资产（如美元）挂钩的方法，以便加密交易所可以为贸易结算美元提供数字资产。虽然一些交易员继续交易纯粹的加密资产对，如BTC和ETH，但有人可能会说，提供美元挂钩将数字资产交易推向了更广泛的市场。
能够拥有与美元挂钩的数字货币也为交易员在交易所和钱包之间转移基于美元的资产提供了能力，为基于稳定币的商业奠定了基础。有史以来第一次，加密用户在字面意义上使用数字美元。 -->
##### 早期采用者
- 汇款和跨境企业对企业支付
- 工资
- 参与国际资本市场
- 采用分散式融资
<!-- 随着使用区块链转移基于美元的数字货币的能力，未来的用例开始占据主导地位。在东南亚，企业已经开始在不同国家的供应商之间使用稳定币转账，以提供一种具有成本效益和快速的跨境汇款方法。
新的最终用户被吸引到稳定币市场，作为向国际家庭成员汇款的一种方式。银行手续费通常很贵，而且汇款的时间跨度很长，这使得汇款过程变得不必要的困难和缓慢。加密货币实现了一种新的解决方案，我们看到2021年数字汇款市场价值为150亿美元，全球汇款市场总额为7010亿美元。
随着去中心化自治组织的发展，对数字工资单的需求已成为一项关键要求。如果组织在链上，那么以这种方式运行财务和工资单才有意义。加密工资系统的早期采用者来自Web3世界。
随着分散融资的引入，形成了一个机会，使进入真正国际资本市场的机会民主化。对于普通个人来说，这意味着组织可以存储他们的稳定币，其收益率通常高于银行利率，或者使用抵押品以具有竞争力的利率获得贷款。
如果没有稳定币，就不会有挂钩货币在区块链上进出。在中心化交易所，你可以说不需要稳定币，但在使用区块链时，没有其他方式来表示法定资产。 -->
##### 早期大众
- 接受稳定币付款的商家
<!-- 我们开始看到不同的金融科技公司将区块链支付轨道整合到销售点和最终用户产品（如信用卡和借记卡）中的根源。为了推动采用，这些技术将是使稳定币使用对最终用户简单和透明的关键。 -->
- 稳定币用于在人与人之间转移资金
<!-- 一旦商家基础设施到位，随着这些新的支付解决方案建立信任，个人之间的资产转移将迅速跟进。再次，它将回到用户体验和建立信任，以推动稳定币进一步沿着采用曲线。 -->

我们在哪里？
创新者已经进入了早期采用阶段，我们开始寻找“跨越鸿沟”的方法，因为我们看到了与业务和个人需求更深入集成的解决方案。随着我们建立信任记录并改善用户体验，稳定币技术的采用将转移到早期的大多数人。

##### 中心化财务
- 机构采用
由于缺乏明确的监管和同行之间缺乏采用，机构采用受到阻碍。随着机构对去中心化金融的风险敞口增加，我们可以期待看到稳定币在其资产负债表上与其他数字资产一起获得收益。
随着支付网络的发展，它们可能会选择在消费者、企业和政府机构之间以稳定币的形式转移资金，这可能会刺激数字钱包的使用，以及对数字资产机构托管的需求。

- 交易所资产多元化
中心化交易所正在使资产多样化，这是一种降低市场风险的方式，如果稳定币失去挂钩或遇到破坏代币运营和信任的重大事件，可能会出现问题。USDC在取代USDT方面是最成功的，但UST正在进入中心化交易所生态系统。
为了让用户留在他们的平台上，许多中心化交易所提供了存款稳定币以获得收益的计划。虽然这种体验很像去中心化金融，但获得收益的基本方法却不是。

##### DeFi 趋势
资本流入DeFi
DeFi和稳定币的增长一直处于宏观上升趋势。去中心化金融比中心化交易所更加开放，并提供了最广泛的稳定币产品，以实现多样化并从中获得收益。DeFi的用户选择稳定币作为熊市加密市场或加密市场总体波动的避风港。

高产协议
市场上一些较新的协议吸引用户进行高APY的投资，以吸引资本进一步构建协议并帮助其成熟。虽然这种方法有其优点，但具体项目可能会因安全问题而受到大量关注。
<!-- 例如，锚协议目前在Terra的UST上提供几乎20%的可变利息。有办法进一步利用您的投资高达100%的利息，但有一个潜在的风险。进一步的论点是，如果市场突然受到冲击，美国邮政使用的资产挂钩的稳健性。 -->

##### 稳定币趋势
- 通货膨胀挂钩资产
为了进一步创新这种代币的想法，以及创造一种对抗通货膨胀的资产的想法被称为Frax价格指数，或FPI。使用与FRAX稳定币类似的设计，控制代币的价值以匹配通货膨胀。
尽管该资产可以抵御通胀，但在DeFi的背景下如何使用该资产以获得收益率仍存在问题。由于这是一个新的空间，未来将有更多的工作来证明这些代币的实用性。

- 机构或私人稳定币
机构也可以选择为自己的交易创建自己的私人稳定币。虽然最终用户可能没有直接保管这些资产，但它们可能被用于实现后端银行流程的现代化，特别是当涉及不一定完全信任对方时。

- 部分准备金
在稳定币中尚未充分探索的一个领域是部分准备金稳定币的想法。虽然我们确实依赖传统法定货币的部分准备金银行系统，但部分准备金加密货币的实施尚未实施。

- 中央银行数字货币
CBDC可能是一个复杂的主题，因为在范围和实施方面有许多不同的解释。例如，CBDC可能需要自己的区块链，而区块链可能不一定是公共的或分散的。CBDC可能没有隐私，并且可能对网络和货币进行审查控制。
<!-- 出于各种考虑，许多西方国家仍在评估是否选择实施CBDC。对于传统金融来说，央行数字货币的优势值得怀疑，而数字金融界的分歧也加剧了这一点。 -->

<!-- 一个尚未发挥作用的潜在叙述是，通过建立一个数字经济来促进涉及跨境贸易的消费者交易，从而产生影响的潜力。更值得注意的是，它能够在几分钟内向世界其他国家提供货币援助。加密货币可能会破坏SWIFT银行系统，因为各国都在基于CBDC建立替代经济。 -->

<!-- 最值得注意的是，中国在2022年冬季奥运会之前迅速部署了其e-CNY数字货币。北美，欧洲和中东是新CBDC实施的关注领域。 -->

##### 风险
- 监护权
绝大多数稳定币提供了许多不同的托管选项，从使用集中式交易所到冷钱包。然而，并不是每一个设计都假设你可以拥有稳定币的监管权。例如，金融机构可以使用稳定币代表您进行交易，但稳定币的实际保管权由该机构保留。

- 调控
加密货币行业正在寻求在许多不同的司法管辖区进行一致和明确的监管，这些司法管辖区不仅包括国家，还包括州和省等较小的司法管辖区，这使得合规更加复杂。监管框架的现代化需要认识到数字资产的独特属性，同时理解现有的许多产品都是为了真正去中心化而设计的，在国际范围内受到信任。
在重新制定法律或引入新的法律之前，加密行业仍然面临一定程度的不确定性，直到更加明确。如今，加密行业更加先进，游说团体更普遍地倡导使用数字资产和金融。

- 治理
稳定币的妥协可能是由于治理未能按照稳定币的最佳利益行事。如果加密货币的国库储备是秘密管理的，并且没有透明的审计，那么持有者可能会担心，因为这可以被视为比中央银行更不透明。
加密抵押稳定币为治理和资金提供了透明度，但如果他们使用链上治理，就有可能利用治理模型，并有效地控制管理稳定币资金的协议。链上治理已经被利用，产生了破坏性的影响，引起了人们对稳定币所有链上方面需要进行的尽职调查的关注。

- 智能合约
因为在智能合约的世界里，代码就是法律，稳定币的行为是由定义它的智能合约来管理的。使用智能合约会带来一系列独特的风险，从资金管理到审查。

- 中心化风险
由于某些稳定币有能力审查用户，因此使用它们可能不可取，因为这与冻结您的资产具有相同的效果。菲亚特抵押稳定币往往有企业存在，并内置审查机制，其中最常见的是USDT，其次是USDC。

- 国库管理
控制加密货币的智能合约可能会受到损害，从而导致财政部管理不善。这种操纵可能包括货币的恶性通货膨胀或可能转移国库资金。

- 神使
对于由加密资产支持的稳定币来说，智能合约必须及时准确地获取资产价格数据，以保持挂钩。并不是所有的神使都是平等的，有些人可能比其他人更具实验性。了解对Oracle的依赖有助于我们了解稳定币的成熟度以及维持挂钩可能存在的潜在风险。

- 中央银行计价货币
根据您所在的司法管辖区，政府可能会选择禁止某些数字资产，而支持政府发行的代币。中国在推出e-CNY之前禁止加密货币。虽然这是否是司法管辖区的一个更大趋势还有待观察，但政府可能会选择由国家管理的技术。

- 机构代币
机构可能会决定，他们不希望托管公共形式的加密货币，而是希望通过使用私人区块链和由一个机构或一组机构（如银行）定义的代币化资产来利用加密货币的优势。
<!-- 在J.P.摩根的案例中，JPM硬币存在于他们控制的许可区块链上，作为进行支付和跨境贸易的一种手段。一些机构可能更喜欢这种解决方案，但可能不会破坏基于无许可公共网络的更大的代币市场。 -->

- 市场波动
在稳定币的历史过程中，许多不同的代币都未能保持与美元的挂钩。因此，人们对该行业产生了怀疑。对于一些有着良好记录的投资者来说，在不确定的时期，挂钩机制可以被信任往往是至关重要的，而较新的资产可能难以获得这种信任。

- 协议
随着用户追求资产的高回报，协议风险越来越受到关注。例如，用户经常为他们的资产追求DeFi的最高回报，因此锚等新协议吸引了大量资金。

<!-- 看跌的理由是，提供的利率是不可持续的，将不得不降低，导致美国信托资产的大规模抛售。他们的论点是，协议的变化最终可能会破坏它使用的非常稳定的加密货币的稳定，并可能对更广泛的加密生态系统构成风险。 -->

- 稳定币将不断发展
稳定币被视为一种资产类别，其规模可能与BTC和ETH等其他主要数字资产一样大。在这一点上的挑战是，如果我们回想一下跨越鸿沟，那么我们在采用稳定币作为日常生活的一部分时的期望是多少。此外，还有更现代的加密支持的稳定币，它们使用算法来管理挂钩机制。
一些更具创新性的稳定币设计将经历挫折或彻底失败，因为不同的模型被用来提供挂钩资产。许多新项目将提供高收益率以吸引资本，但应预先分析稳定币的基本属性以及如何产生收益率。
大多数稳定币的历史有限，由于缺乏法律的明确性，稳定币一直是加密货币和传统金融领域争论的热门话题。即使存在分歧，支付提供商和机构也在评估和构建使用加密支付轨道的解决方案，以优化使用传统手段的多方交易。
<!-- 预计稳定币将通过中心化实现清晰化，因此更容易受到监管，这应该是机构产品的绿色之光。但关于CBDC及其在加密生态系统中的作用，还有很多更广泛的问题。政府会倾向于他们可以控制的数字货币，还是允许更广泛的稳定币市场共存？
政客们总是会有动机以保护消费者的名义进行监管，这是正在使用的修辞中的一个强烈主题。但是，随着政府努力解决数字货币的概念，将出现旨在完全分散和不受监管的稳定币。监管机构和加密行业再次处于另一个重要的交叉点，需要通过深思熟虑的监管来满足采用。
虽然不同的国家在监管方面走在不同的道路上，但许多国家都在关注美国的努力，因为拜登政府发布了一项评估加密货币的行政命令。许多人期待立法，但许多人忽视的一点是对CBDC的审查。美国会跟随中国创造数字货币吗？还是会克制？
需要CBDC的想法是一个有争议的话题，但其价值在于影响力。能够优化银行间的商业是很好的，但拥有自己的方式向外国政府转移价值（即援助）是巨大的。随着货币的变化，经济格局正在发生变化，随着美国国债的多样化，美元可能会下跌。没有数字美元CBDC并不是美元的终结，但外国货币可能会更早地数字化以区分自己。 -->

### 2024.08.22
#### 代币经济学 101：公平启动

代币几乎是每个项目的基础，（1. 一些代币赋予项目成员治理权，（2. 另一些代币获得协议收入，（3. 另一些代币参与封闭社区，而一些代币则兼具这三种功能。
- 什么是公平启动？
以公正的方式或通过公平的发布将它们分发给利益相关者，对于获得社区的支持至关重要。
<!-- 一个常见的误解是，所有代币都必须对公众开放，但事实并非如此。例如，以Yearn Finance推出的首批公平代币之一为例，没有创始成员因其早期贡献而获得代币。
代币应根据其对项目成功的影响分发给核心成员和整个社区。这意味着为关键内部人士（如创始团队或顾问）保留代币是完全可以的，只要它符合项目的价值观和使命。
公平发布的目的是让代币透明的价格发现，以鼓励项目有机增长，并奖励利益相关者在项目中承担的风险。虽然这似乎是一个简单的概念，但项目的复杂性使每个展会的设计都独一无二。虽然有许多潜在的代币分发策略，但一种简单的方法是确定所有项目利益相关者及其激励措施，以帮助项目成功。为了更好地理解这个概念，这里有一些来自真实的公平发射的例子。 -->

- 感恩初始社区
<!-- 一个项目如何识别和奖励项目中的关键利益相关者的例子可以在我们自己的BanklessDAO发布中看到。Bankless的使命是帮助10亿人离开他们的银行，由于他们的使命，该项目决定感谢早期的参与者和贡献者，帮助发展他们的品牌和创造意识，他们的事业。
通过空投，所有BANK代币总供应量的30%被分发给了早期的社区贡献者，他们要么持有POAP，要么通过Gitcoin赠款捐赠，要么拥有Bankless merch，要么是高级Substack成员。他们公平发布的这一部分是为了感谢早期贡献者的支持，并激励他们继续参与他们帮助创建的社区。 -->

- 协调未来的贡献者
<!-- 另一个例子是Vesta Finance，它持有一部分启动代币，以激励其协议的增长。Vesta是一个第二层贷款协议，它可以在不支付利息的情况下为抵押品创造最大的流动性。考虑到这一点，Vesta将其初始代币分配的11%留给了未来的核心贡献者，并将47%留给了他们的社区金库。核心贡献者分配有两年的授予期和六个月的悬崖，通过让他们在协议的成功中获得股份，确保强大的开发人员可以投入更多的时间来开发协议。此外，他们分配给社区财政部激励社区贡献和伙伴关系，推动协议的整体运作和发展。 这一大笔资金分配给社区是Vesta Finance的一项战略，目的是获取他们的代币所创造的资本，并将其返还给他们的社区，以推动协议的未来发展和成功。 -->

- 识别过去的用户
<!-- 公平发布的最普遍的例子之一是以太坊名称服务，当时团队追溯奖励早期参与应用程序的用户。ENS是一种用于将人类可读字符串映射到以太坊区块链上的钱包地址的协议。如果最初的用户不相信并购买ENS手柄，其他人就没有理由加入。
为了表彰早期用户为协议提供的支持，ENS将其初始总代币供应量的25%用于与协议交互的每个帐户，并执行追溯空投，甚至采取措施通过为设置其主要ENS名称（又名反向记录）的用户创建2倍乘数来奖励高级用户。 -->
既然用户拥有了治理权力，就有了提供反馈和参与讨论如何改进协议的经济激励。

- 吸引未来用户
最后，让我们来看看Curve Finance，以及他们的协议发布策略如何激励未来的用户。Curve是一个自动化做市商，使用专有算法来确保ERC-20代币的高流动性，低滑点和低费用交易。保持协议健康的基本品质之一是具有足够的流动性。这就是为什么他们的代币分配将$CRV总供应量的62%分配给社区的流动性提供者。他们得出的结论是，将协议的财务和治理权利归还给最重要的用户符合协议的最佳利益。

公平的发射会去哪里？
就像我们前面提到的，“公平发布”没有确切的公式，但希望这些公式能让你很好地理解如何接近一个。最终，项目团队应该倾听他们的社区，了解他们的关键利益相关者是谁，并发现是什么使这些利益相关者与项目目标保持一致。

### 2024.08.23

- 弹性模式
弹性模式通过改变稳定币的全部供应量来控制价格。根据稳定币的价格是高于还是低于预定的挂钩价格，协议将在一个固定的时期内自动增加或减少每个持有人钱包中代币的供应量。
通过强行控制供应，稳定币的价格可以根据简单的通货膨胀/通货紧缩的经济理论来影响价格。

- 铸币税模式
铸币税模式通过引入一个动态影响市场的奖励系统来控制价格。如果价格高于挂钩，新的代币就会被铸造出来，并分配给提供流动性或有代币抵押的参与者。
如果价格低于挂钩，代币将停止铸造，并引入机制以减少供应。用户可以购买燃烧相关代币的优惠券，将其从供应中销毁。这些优惠券在未来可以被兑换成更多的代币，但只有当价格回到或超过预定的挂钩时才可以。
这种模式有三个基本迭代：
1. Empty Set Dollar
ESD是一种单币抵押模式。正如其名字所暗示的，这种模式中只有一个代币。用户通过协议的原生代币在去中心化自治组织（DAO）中提供流动性或股权--ESD代币有效地充当了稳定币和治理代币。
<!-- 在每个纪元的开始，系统将测量时间加权平均价格（TWAP）。如果TWAP高于1美元，该协议将进入通货膨胀阶段，并铸造代币作为对DAO抵押者和流动性提供者的奖励。相反，如果价格低于1美元，该协议将进入收缩阶段，用户将停止收到任何奖励。
在收缩阶段，如果协议再次进入扩张阶段，用户可以通过燃烧ESD来购买优惠券，以获得高达45%的溢价。然而，优惠券只能持续30天，这意味着如果系统保持在收缩阶段超过30天，优惠券购买者有可能一无所获。ESD中的纪元持续时间为8小时。 -->
2. Basis Cash
Basis Cash是一种双代币征税模式。正如项目名字所暗示的那样，除算法稳定币外，项目还有一种被称为股份代币的额外代币。Basis Cash的稳定币是Basis Cash（BAC），而其股份代币是Basis Share（BAS）。
<!-- 与ESD一样，Basis Cash依赖于一种TWAP机制，它将根据BAC的价格是高于还是低于1美元来铸造或停止铸造BAC。当BAC高于1美元时，协议进入一个扩张阶段，用户可以通过押注BAS从Boardroom DAO获得新铸造的BAC。
当BAC低于1美元时，协议进入收缩阶段，没有新的BAC将被铸造给Boardroom的BAS抵押者。基准债券（类似于ESD优惠券）可供购买，价格为（BAC）^2。当协议再次进入扩张阶段时，基础债券的购买者将得到赎回BAC的机会。
Basis现金纪元持续24小时，与ESD优惠券不同，Basis Bonds没有过期日期。 -->
3. Frax Finance
Frax借鉴了铸币税模式的基本原则，并创建了自己独特的模式，其稳定币（FRAX）由两种类型的抵押品支持--由法币支持的集中式稳定币（USDC）和其原生股票代币Frax Share（FXS）。虽然Frax目前采用法币稳定币作为抵押品，但该协议确实最终打算完全过渡到分散的抵押品。
<!-- 与Basis或ESD不同的是，Frax采取的是零散的抵押方式。Frax有一个可调整的抵押品比率，由PID控制器控制。抵押率根据增长比率进行调整，该比率衡量FXS流动性的多少与FRAX的总体供应量。
Frax稳定币（FRAX）可以被铸造，并允许从协议中赎回1美元的价值。这激励了套利者购买或铸造FRAX，使价格回到其挂钩点。另一方面，FXS会产生费用、税收收入和多余的抵押品价值。值得注意的是，Frax推出了veFXS，它将算法市场操作控制器（AMO）的部分利润给了FXS抵押者，类似于veCRV在曲线金融上获得部分交易费的情况。
当FRAX高于1美元时，PID将抵押率降低一点，而当FRAX低于1美元时，PID将抵押率提高一点。刷新频率和阶梯参数都可以通过FXS治理来调整。
截至2021年5月8日，FRAX有85.25%由USDC支持，14.75%由FXS支持。-->

- 为什么 FRAX 成功了？
虽然sUSD、UST和FRAX的成功都有各自的原因，但我们将重点关注FRAX，因为它到目前为止拥有最好的挂钩保持率，整个2021年第一季度的平均价格为1.001美元。以下是我们认为它们到目前为止成功的一些原因：
- FRAX部分由USDC抵押，这使社区对该系统保持挂钩有一定信心。截至2021年5月8日，85.25%的FRAX是由USDC支持的。
- Frax保持着灵活的抵押率，满足市场对FRAX定价为1美元的要求。
- 抵押品被重新部署到其他地方以赚取利息。这有助于带来外部收入并支撑协议发展。
- FRAX的价格波动会转移至FXS，用于对FSX的回购和燃烧。
虽然这些只是简化的原因，但仍然需要不断地重新考虑，特别是在危机时期，当FXS的价格大幅下降，流动性挖矿奖励最终停止时，是否还能依然保持目前的状态。

#### 总结
算法稳定币实际上是DeFi对取代“中央银行”的一种尝试，而算法稳定资产是DeFi模仿黄金标准和创造可靠的数字抵押品的方式。在传统金融中，一个成功的货币体系需要一个有能力和独立的金融当局。在DeFi中，能力来自于被激励合作和理性行事的伪匿名个人。
成功的算法稳定币和稳定资产需要更长的时间框架来证明自己，特别是在危机时期。无论是短期激励还是短期投机本身都是不可持续的--它们需要成为不仅仅是一个思想实验，并通过广泛的采用提供经济效用。监测本章中的算法稳定币和稳定资产在未来几年的表现将是非常有趣的。

### 2024.08.24

MakerDAO 
去中心化的组织，致力于加密货币经济带来稳定。
MakerDAO 是基于以太坊的去中心化超额抵押稳定币协议，核心是通过超额抵押来维持 DAI 与美元的 1:1 锚定，价格稳定机制本质是市场供需的博弈。作为 DeFi 老牌明星项目，整体机制较为成熟，生态也在不断扩张完善，近期计划进军借贷市场，预计今年四月份正式上线基于 Aave v3 智能合约的借贷协议 Spark Protocol。
MakerDAO 的细分赛道为去中心化超额抵押稳定币赛道。
DAI 系统的稳定机制主要是通过稳定利率调整和 DAI 存款利率（DSR）来调节市场供需，从而稳定 DAI 的市场价格。GHO 的价值主要是通过套利机制来保持稳定，本质上也是供求关系。
MakerDAO 和 Aave 两大 DeFi 蓝筹项目目前的业务发展在互相渗透，在机制设计上大同小异，DAI 目前无疑是去中心化稳定币赛道龙头，具有先发优势，GHO 短期内难以超越，应用场景还有待正式上线后观察。

### 2024.08.25

PayFi
Web3 支付和 DeFi 的融合催生了 PayFi，PayFi 是围绕货币时间价值（Time Value of Money）创建的新金融市场。这种链上金融市场可以实现传统金融无法实现的新金融范式和产品体验。
<!-- 货币时间价值（Time Value of Money），是金融的基础概念，是指在时间的流逝中，货币的价值会发生变化，货币现在拥有的价值高于未来拥有的价值，因为需要考虑通货膨胀以及投资收益的问题。如果人们希望现在，而不是未来获得资金，那么就应该为这些资金支付额外的费用——利息。 -->
现实世界资产代币化（RWA），考虑到支付本身根植于现实世界的生活场景，要想实现 PayFi，那么必然少不了将现实世界资产的代币化的逻辑，以及将整个支付场景以及业务流程代币化搬到链上的 Web3 支付逻辑，以此来捕获现实世界支付场景的货币时间价值。

#### 融合 DeFi 的 Web3 支付创新业务
Lily Liu 在其分享中提到了先买后付（Buy Now Pay Later）的概念，可以由 PayFi 将其改造成买了不付（Buy Now Pay Never）。这里来做一下解析，想象一个用户 Kevin 花 5 美金买咖啡的场景，PayFi 支付服务商来收单。
1）PayFi 支付服务商需要打通 DeFi 借贷协议，
2）用户 Kevin 正好是 DeFi 借贷协议的 LP，能够从协议中获得借贷收益；
3）PayFi 支付服务商获得用户 Kevin 的授权，来用借贷收益支付咖啡款项；
4）那么 Kevin 就不用实际支付购买咖啡的费用，而是通过其 DeFi 借贷协议产生的收益来支付 5.5 美金的款项，0.5 美金作为 PayFi 支付服务商的服务费；
5）PayFi 支付服务商最终可以将 DeFi 收益做货币承兑，与商家进行法币结算。
这是一个 Web3 支付叠加 DeFi 的一个最简单，也是最直观的 PayFi 用例，使用了 DeFi 的收益来覆盖支付的费用，其实还可以再叠加代币经济的效用。


#### Case Study J：构建在区块链的 Web3 银行——Fiat24
Fiat24 作为一个 Fiat Layer Banking Protocol，能够为 DeFi 带来法币的业务逻辑。这些正是 Lily Liu 所阐述的 PayFi 场景：
1）抵押借贷：Bob 提供ETH 作为抵押品在 DeFi 平台上借稳定币，DeFi 协议可以直接调用 Fiat24 银行协议来形成 USD 法币的出借；
2）投资/质押生息：Alice 提供 ETH 去做质押生息，DeFi 协议可以直接调用 Fiat24 银行协议来将生息资产通过法币的形式发放，这真的能够实现现实生活中的躺赢。
3）投资理财：Will 使用 ETH 投资 DeFi 协议的代币化证券 Coinbase，那么 DeFi 协议可以直接调用 Fiat24 银行协议，用法币去纳斯达克买股票。这个Ondo Fiance的Global Makerts正在实现。
Case Study K：Ether.Fi 的Crypto Payment Card

Ether.Fi是一个 DeFi 生态内专注于以太坊质押和流动性再质押的创新项目，通过提供非托管的质押解决方案，EtherFi 使用户能够在保持资产流动性的同时赚取质押收益，从而解决了传统质押中资金锁定的问题。

#### PayFi 的未来畅想
1. 链上信用体系
<!-- PolyFlow 的 Payment ID，能够与加密后用户隐私保护的 KYC/KYB 信息绑定，关联用户在多种平台上做过 KYC/KYB 的 VC（可验证凭证），能够很好地将 Web3 支付的必要的信息在多个不同平台上整合，不仅能够实现用户的合规准入、监管合规要求、数据主权个人，还是建立链上信用体系的关键一环。此外，其 Payment Liquidity Pool 则是构建了一个链上支付资金池，以支持多方面的需求，如支付融资 RWA，亦或是基于 PID 的信贷。 -->
2. 传统支付业务逻辑上链
<!-- 海运提单是国际贸易中的重要单据，区块链电子提单（eBL）作为纸质海运提单的替代方案，不仅具备与纸质提单同等的效力与功能，还具有数据结构化、防篡改、可追溯、可编程等特点，可以更好地实现数据核验和自动执行，与数字货币相结合。
此次试点利用智能合约结合 TradeGo 电子提单（eBL），基于 PlatON 提供的 Web3.0 密态支付清算体系 TOPOS，实现了贸易双方在交单后自动触发数字货币支付。真正实现“一手交钱，一手交货”的新型结算模式，大大降低交易方的信任成本。
此次试点不仅是技术层面的突破，更是对国际贸易支付方式的一次创新示范。通过实际业务场景的验证，为行业提供了一种可行的、高效的跨境支付解决方案，引领行业向更低成本、更高效率的方向发展。 -->

这个路径将先会从金融支付开始，从比特币的电子现金，到代币化货币的初始爆发，再到 PayFi 兴起为我们来带的创新金融范式。后面还会有多少路径要走，目前不得而知，但是我已经看到了 Go Bankless 的终点。

### 2024.08.26
#### 借贷协议
传统借贷
你是否有任何资产，所以你要拿出证据，收集证明你盈利能力的报表。所有这些都是为了向他们展示你精心制作的商业计划，让贷款人知道你已经在你的领域做了背景工作。
收集、格式化和提交您的信息非常耗时;有时甚至需要重新提交信息，因为遗留系统的官僚作风是如此的难以应付。通常情况下，你会觉得你的隐私被侵犯时，个人信息的要求，并最终，这个过程感觉像一个虚构的。一张证明就业的小纸片，即使它在贷款签署后的第二天就终止了，也会让你超过顶峰。
从桌子对面看，您知道贷款官员、裁决者、银行和其他诉讼机构并不认同您的激励措施。
如果贷款被批准，你被锁定在协议的细则，包括利息和其他有利于贷款人的条件。最后一步是释放付款，但如果你被拒绝，你必须移动到下一个贷款人重复的歌曲和舞蹈。

去中心化借贷可以解决这个问题。它允许任何人获得贷款，完全基于他们钱包中的资产。它是24/7/365可用的，不会根据你的长相进行歧视。每个人都使用相同的参数进行评估，需要几分钟才能完成。
- 可信的中立性：用户不必去中心化的第三方以其资产为抵押获得贷款。智能合约处理一切，包括利率、抵押和清算。
- 无需许可：每个人都可以获得相同的贷款，任何人都可以成为贷款人。只要你有资本，你的利率就和坐在半个地球仪上的人一样。种族、宗教、性别和长相对你的信誉没有任何影响。
- 速度：用户不再需要等待他们的贷款批准。这加快了贷款发放的过程，因为只要用户有必要的抵押品，他们就可以贷款。用户唯一需要借的是资金和互联网连接。
- 透明度：因为所有的交易、资金、合同和活动都在链上，每个人都可以看到系统的变化和市场条件的变化。
- 可用性：应用程序可以从任何有互联网连接的计算机上全天访问。没有银行假日，也不需要员工执行交易。
- 税务影响：借贷协议允许用户在其加密资产上获得杠杆风险敞口，而不会在其抵押品上创建应税事件。
分散式贷款正处于早期阶段。它并不能提供集中贷款所能提供的一切，但它可以超越传统金融的低效率，并利用Web3吸引的创造性思维。我们认为这是必然的。继续阅读以了解分散式贷款环境。

### 2024.08.27
#### APR vs APY
APR是Annual Percentage Rate的缩写，它代表存款人在一个日历年中从给定投资中获得的收益率（利息）。
<!-- 例如，如果您将价值1，000美元的DAI存款存入Aave，Aave提供DAI存款的5%年利率，则该存款一年的收益率为50美元，或存款的5%。 -->
通常，最好的策略是将产生的收益重新存入本金，使收益“复合”，以获得更大的回报，这就是21点中的“顺其自然”。然而，每个协议都是不同的，您存入本金的协议决定了您提取收益的能力，以及收益可用于索赔的频率。同样重要的是要注意，要求收益奖励所需的交易会产生赎回和质押或存入协议的gas费用。对于小投资者来说，交易费往往抵消了存款产生的收益，从而使这种形式的回报更适合更大的投资。这就需要一种新的产量形式。

APY是Annual Percentage Yield的缩写，这正是解决这种情况的产品，因为它会存入自动生成的收益率，以增加您的投资本金。APY是收益率“自动复合”到您的原始存款为您在预定的时间间隔。这就产生了一种情况，即每个周期都有更多的存款收益被添加到基本本金中，堆积你的袋子，使存款金额随着时间的推移而增加。了解APR和APY之间的区别将使您的投资策略有所不同，并使您成为更完整的投资者。

##### 流动性池
流动性池是去中心化金融的一个组成部分，因为它们允许在去中心化交易所进行资产交易。流动性池是锁定在智能合约中的令牌对或组的集合。想想USDC/ETH或DAI/USDC/USDT/FEI。这些池为协议上发生的交易提供流动性，并使用户能够交换池中的特定令牌。
池的流动性越深，也就是说，池中的每个代币越多，交易对池中代币的相对数量以及交易时代币的价格变动的影响就越小。换句话说，池中更多的代币意味着每次交易的滑点更少。滑点是从一个代币到另一个代币的交易中损失的价值。
流动性池存在的原因是为了取代被称为“订单簿”的旧的买卖资产模式。传统证券交易所自成立以来一直使用这种模式。买方试图以尽可能低的价格购买特定资产，而卖方则试图最大化他们从特定资产中获得的金额。这种模式有一个开放和关闭的时间，交易是可能的，买方和卖方有必要找到他们愿意合作的价格，然后才能达成交易。

AMM允许通过使用流动性池而不是买方和卖方市场来交易代币，它们是支撑去中心化交易所的关键技术。AMM使用户能够自动交易，无需许可，无需中介。这就是AMM的真正力量：加密用户不会受制于中心化交易员和订单簿。

有三种常见的AMM类型：Uniswap、Curve和Balancer上的AMM。Uniswap的模型是最常见的，它允许用户以50/50的比例使用任何一对代币创建流动性池。Curve创建了类似资产的流动性池，而Balancer允许多达八种不同代币的资产池。虽然模型不同，但效果是相同的：系统使用户能够交换令牌，具有订单簿模型的所有便利性，但具有去中心化和无许可区块链的24/7性质。

- 稳定费
稳定费是对借入资金余额收取的可变利率年费。它在概念上类似于信用卡的可变年利率，尽管在使用Maker Vault借入DAI的情况下，稳定性费用每秒都在不断增加。信用卡通常每月复利（将应计利息金额添加到未偿还本金余额）。
<!-- 例如，如果您以2.5%的稳定费借入1，000 DAI，一年后，您将欠Maker 1，025 DAI。如果你在不到一年的时间内还清贷款，你所欠的应计利息将按比例减少，并计算到第二个还清交易开始。 -->

- 抵押比率
抵押比率是指贷款抵押品的价值除以未偿还债务的价值，以百分比表示。贷款协议通常设定最低抵押比率，使债务过度抵押。也就是说，他们需要的抵押品比他们愿意借出的要多得多。大多数通过Maker Vault借入Dai的最低抵押比率在150-185%之间。
抵押比率=（抵押品价值/债务价值）x 100

<!-- 例如，如果您将价值1，000美元的ETH存入Maker Vault，最低抵押率为150%，并且您以DAI借入500美元：
($1,000/$500) x 100 = 200%.
你的抵押率是200%。如果抵押比率福尔斯低于协议要求的最低贷款（又名清算比率），贷款将被视为抵押不足，并可能被自动清算。借款人可能会发现，当他们存放的抵押品价值福尔斯时，自己接近最低比率。在上面的示例贷款中，如果ETH的价格下降到存入的ETH抵押品现在价值750美元，而DAI稳定币债务的500美元保持不变：
($750/$500) x 100 = 150%.
该笔贷款为最低抵押比率贷款，并有清盘风险。 -->

- 可变利率模型
利率模型用于确定资产提供者的贡献得到多少报酬，以及借款人必须为借给他们的资产支付多少。该模型有三个变量，它试图平衡：
（1. 资金池流动性 （2. 借款利率 （3. 供应速率
DeFi中常见的利率模型是一个分段函数，呈现两个不同的斜率。这个想法是创造一个环境，在这个环境中，资金池是资本有效的，但仍然有足够的流动性供人们进出资金池。不同的资金池针对不同的利用率，但一般而言，利率是维持目标利用率的工具。

<!-- 下面是Compound的一个例子：
在上面的示例中，池的目标是90%的利用率，由90%的扭结表示。
如果利用率较低（在0%到90%之间），该模型将通过低借款利率激励借款。利率将吸引用户从池中借用资产，提高利用率。
但如果利用率很高（超过90%），借款利率会发生巨大变化，使借款成本更高。这激励借款人归还资产，避免高利率，使利用率回到90。
供应率和利用率之间也存在同样的动态关系，利用率高时，供应商（通过高收益）有动力将资产存款到资产池，利用率低时，供应商存款资产的动力则较小。
这三个参数（借款利率、供给率和利用率）之间的动态关系平衡了资金池的流动性，提高了资金池的资本效率。
通过Market.xyz提供的软件开发工具包（SDK），任何人都可以启动一个隔离池（更多信息请参见隔离池部分），并设置他们选择的利率模型。他们所要做的就是在合同中设置以下参数：
aseRatePerYear：利用率为0时的年基本汇率。
MultiplierPerYear：当利用率低于拐点时的利率斜率。
JumpMultiplierPerYear：当利用率高于拐点时的利率斜率。
扭结：跳跃乘数被添加的点。
屋顶：借款利率固定后的利用率。
BlocksPerYear：利率模型假设的每年区块数。
以下是使用Market.xyz的隔离池计算APY的公式（APYRate）： -->


- 清算
当存放的抵押品价值处于抵押比率福尔斯降至最低值以下的水平时，借贷平台会自动出售借款人的抵押品，以偿还未偿还债务以及可能收取的任何费用或罚款。偿还债务后剩余的任何抵押品都归还给借款人。
<!-- 继续上面的贷款示例，您可以选择避免清算：
通过偿还一部分借入的DAI来提高抵押比率。
通过增加更多ETH抵押品来提高抵押率。
通过出售抵押品来偿还债务。
通过偿还DAI的所有债务来关闭保险库。 -->

- 强平价格
这是抵押品代币的市场价格，在此价格下，所存抵押品的价值将低于贷款的最低抵押比率。大部分放款协议的前端界面都会显示清算价格，但您可以通过以下公式手工计算：
清算价格=（未偿债务x（最低抵押比率/100））/抵押代币数量

<!-- 使用我们上面的例子，如果ETH的价格是2,000美元，当你通过存入0.5 ETH（1,000美元）来借入500 Dai来打开保险库时：
(500 x（150/100））/ 0.5 = 1，500美元的清算价。
最近ETH的价格波动表明，杠杆借贷从适当的过度抵押到面临清算风险的速度有多快。持续监控抵押品的市场价格并随时准备采取行动以避免清算风险是非常重要的。 -->

- 清算罚款
许多借贷平台在要支付的债务之上增加一定比例的费用，作为清算的罚款。在清算触发之前，通过手动出售抵押品来偿还债务，通常可以避免这笔费用。不幸的是，这可能意味着以低于存入时的价格出售抵押品。

- 闪电贷款
DeFi贷款使“闪电贷款”得以兴起。闪电贷款允许用户在非常有限的时间内（在同一区块内）借入资产，而无需提供抵押品。这些贷款通常用于不同DeFi协议之间的套利机会。
没有资金损失的风险，因为如果贷款在同一笔交易中没有偿还，贷款将被视为无效。由Aave开创的闪付贷款必须由自定义智能合约请求，该合约在一次交易中偿还贷款加利息。这些贷款主要面向开发人员，但DeFi saver等工具为最终用户提供了使用这项新技术的机会。

<!-- 它们可以用来弥补抵押品下降所支持的债务头寸，而无需支付清算罚款。鉴于一个位置的边缘清算，比较清算的成本（13%）与成本的一个闪光的贷款（天然气）。 -->
<!-- 关于DeFi Saver：
一般来说，闪贷款可以用来当你需要一个临时贷款，你知道你将能够在交易结束时偿还.一些潜在的用例包括：
创建一个完全杠杆化的头寸
抵押品或债务资产互换 -->

- 平仓
创建流动性挖掘头寸
闪电贷款是区块链技术独有的令人难以置信的套利工具，但也出现了通过治理和重入攻击来利用协议的严重事件。请参阅Rekt News上关于Beanstalk和CREAM的这些文章。
这些攻击中的许多都可以不使用闪电贷款，但闪电贷款减少了执行这些攻击所需的资本，并允许攻击规模化。利用闪付贷款进行攻击的频率最近在数量上有所减少，但攻击的名单很长。
一般来说，这些闪贷攻击会更快地发现漏洞。闪电贷款直接导致了DeFi的成熟，因为一个安全漏洞的发现允许其他项目在自己的系统中找到并修补相同的漏洞。

结论
最终，闪电贷款提供了一种金融工具，在区块链之前是完全不可用的（也是无用的）。闪电贷款可以被用作一种工具，为大型套利机会，并创造能力，为安全研究人员进行渗透测试，本来是不可能的，没有必要的资金。

### 2024.08.28
贷款项目
#### Maker
Maker被认为是第一个DeFi项目，并且一直持有最大数量的ETH锁定。使用稳定币DAI创建抵押债务头寸，Maker允许用户在Maker Vault中存放存款政府批准的抵押品，赋予债务人铸造/借入DAI的能力。这些借款人在与美元挂钩的DAI上支付“稳定费”，作为贷款利率。
Maker 贷款是过度抵押的，这意味着用户必须向贷款人提供更多的抵押品。他们使用150%的抵押比率，这意味着他们可以借入高达抵押品价值66%的贷款。
<!-- 例如，用户可以存款价值9,000美元的以太币，以借入3,000美元的DAI来保证安全，或者完全去德根，借入价值4,500美元的DAI，并祈祷它只会上升。如果抵押品的价值下降福尔斯，使得抵押比率低于150%，则头寸将被清算。 -->
在清算活动期间，抵押品在市场上以3%的折扣拍卖给第三方行为者，称为“保管者”，以偿还借款人的贷款。这些清算也会导致13%的罚款，这是增加到金库的总未偿还贷款清算。保管者可以在拍卖期间提交DAI，以竞标金库的价值。
如果抵押品的价值福尔斯得太快，Maker就会铸造并出售其治理代币（MKR）以筹集更多抵押品。为了平衡这一机制并减少MKR供应，协议收取的一部分额外DAI费用用于回购随后被烧毁的MKR。其余的额外DAI费用将发送到DAO财政部。
Maker还有一个名为DAI储蓄利率的功能，DAI持有者可以存款DAI，以赚取稳定费产生的可变利率。目前的利率为0.1%。
Maker是该领域最古老的DeFi项目之一。它们自2014年以来一直存在，经受住了多个市场周期。这不仅巩固了他们在市场上作为最佳协议之一的地位，而且也是最安全的。他们的合同在过去8年中经过了考验，每年生存的可能性都在增加。

#### Compound
贷款人可以将抵押品存款在Compound上，并从其资产中赚取可变利率。这就像一个去中心化的加密储蓄账户。Compound发行ERC 20 cToken以换取抵押品。这些cToken是用于跟踪Compound内资产的计息代币，与基础资产相比价值增加（基于cToken-Token汇率）。该汇率增加每个区块，并可用于计算总APR。
借入金额的价值必须始终低于抵押品价值乘以其抵押品系数。如果贷款超过抵押品价值的50-75%，持有人可以以5%的折扣清算他们的头寸。
Compound于2020年6月发布了他们的治理代币COMP，拉开了DeFi夏季的序幕。他们使用COMP来激励平台上的流动性。

#### Aave
Aave向储户发行代币。这些类似于Compound的cToken，但可以以1：1的汇率兑换底层代币。存款人通过Aave协议的aToken分配赚取利息。这些代币以可变或稳定的利率持续发行给持有者。
与其他协议一样，Aave提供过度抵押贷款。首先，用户将他们的代币存款到Aave的流动性池中，此时可以从协议中借入资产。每种资产在Aave平台内都有自己的流动性池，有些资产被认为没有资格用作抵押品。
Aave使用AAVE代币作为最后的抵押品。如果Aave抵押品福尔斯意外下降，则使用AAVE代币对系统进行重新抵押。用户可以将他们的AAVE代币放在一边作为保险，以换取收益。在短缺期间，这些代币在市场上出售。
Aave还尝试使用一种称为“稳定”利率贷款的半固定利率产品。由于利率根据利率曲线波动，用户可以创建利率不会改变的贷款头寸，除非特殊的市场条件。在典型的市场条件下，可用的稳定利率可能会波动，但一旦用户接受贷款，稳定利率就会被设置。
Aave开创了闪电贷款。这些是必须在同一笔交易中偿还的贷款。我们将在下面对闪电贷款和Aave的稳定利率机制进行更深入的探讨。

#### Rari Fuse Pools
Rari最初是一个产量农业聚合器，但后来转变为一个孤立的利率协议。ERC允许任何人使用任何ERC20代币创建借贷市场。资产池创建者选择利率曲线、神谕和抵押品因素等参数，而用户可以从资产池借入资产或向资产池借出资产。
这种可定制性允许用户为具有不同风险状况的各种贷款市场提供流动性。由于这些池是孤立的，一个池的风险状况不会直接影响其他池。Compound和Aave等产品之所以获得许可，是因为它们控制着可用作抵押品的资产类型。这是因为他们每种资产都有一个流动性池。他们不能接受任何资产，因为它打开了整个协议的TVL来提供资产攻击（更多信息请参见下面的隔离借贷部分）。

#### Alchemix
Alchemix是一个DeFi贷款平台，提供过度抵押贷款，有两个关键特征使其与大多数其他贷款不同。（1.借款人不能通过改变加密货币价格来自动清算。（2. Alchemix提供所谓的自偿贷款。
Alchemix允许借款人在存入的加密抵押品上获得高达50%的LTV（贷款价值）的贷款，包括DAI，ETH，wstETH，rETH，USDC和USDT。这相当于200%的最低抵押比率。
借款人不会被自动清算，因为Alchemix在抵押品上出借类似的合成资产。例如，如果您存款ETH，您可以在alETH中借入高达一半的存款ETH价值，alETH是一种合成代币，价格与标准ETH相同。如果ETH的价格（以及您的抵押品的总价值）福尔斯下跌，则借入的alETH的价格/价值福尔斯按比例下跌。这使LTV和抵押比率保持不变。
该平台使用您的抵押品来代表您赚取收益，从而逐步偿还您的债务余额。这就是Alchemix所说的自我偿还贷款。从本质上讲，它允许您借入存入其金库的加密资产的未来收益。Alchemix还集成了几个收益农业聚合器和协议，使借款人能够使用他们的借款资产赚取额外的收益和ALCX治理代币。
Alchemix Finance使借款人能够利用其加密资产的价值，大大降低清算风险。然而，由于抵押品收益率的APY是可变的，因此很难确定您的自偿贷款何时还清。在撰写本文时，ETH/alETH保险库的APY为0.092%。使用平台遗留界面上的贷款估算器，如果您存入10个ETH，您的5个alETH贷款将在2567年3月30日还清。技术上来说是自我偿还的...超过545年。
当然，收益率波动很大，这取决于广泛的市场因素，所以你的结果可能会有所不同。

### 2024.08.29
#### Aave 文档
Aave是一种去中心化的非托管流动性协议，用户可以作为存款人或借款人参与。存款人向市场提供流动性以赚取被动收入，而借款人则能够以过度抵押（永久性）或抵押不足（一次性流动性）的方式借款。

##### 资产风险
- 隔离模式资产允许在隔离中列出风险较高的资产，限制为：（1. 借款仅限于孤立的稳定币 （2. 一次使用单个孤立资产作为抵押品
- 孤立资产允许具有潜在可操纵的Oracle的资产被列为仅供应，即不能用作抵押品。
- RISK_ADMIN的新许可角色Aave Governance现在可以在协议中选择具有许可角色的实体。如果需要，这些实体可以更改风险参数，而无需对参数更新进行治理投票。这使得协议能够随着市场的成熟更有效、更快速地调整风险参数。
- 供应和借入上限每个资产储备现在可以配置为具有供应和借入的上限（可选）。这有助于减少对某些资产的风险敞口，并减轻无限铸造或价格操纵风险。
- V3清算机制中的可变清算关闭因子已得到改进，以便在接近破产时完全清算头寸（HF < 0.95）
- Price Oracle sentinel主要针对L2，通过引入清算的宽限期和RISK_ADMINS在特定情况下禁用储备借款的能力，来处理测序仪的最终停机时间。

### 2024.08.30
#### Aave v3
Aave协议的V3扩展了Aave协议的核心概念（aTokens、即时流动性、稳定利率借款、信用授权等）在以下领域的新功能。
##### 资本效率
V3允许用户在收益率和借贷能力方面优化其向Aave协议提供的资产。
<!-- 此功能允许流动性在不同网络的Aave V3市场之间流动。协议V3允许政府批准的网桥在源网络上刻录aToken，同时在目的网络上立即铸造它们。然后，通过在通过网桥移动后将其传递到池，可以以延迟的方式将基础资产提供给目标网络上的Aave。 -->
<!-- Aave V3 提供用户新的系统角色--bridge，具有利用 Portal 功能的权限。只有具有权限的地址才能BRIDGE_ROLE在 Aave V3 中移动提供的流动性。 -->
<!-- 这可以帮助桥接 Connext、Hop Protocol、Anyswap、xPollinate 等协议以及专门为利用 Portal 而构建的新解决方案，利用 Aave 协议的流动性来促进无缝的跨链交互。 -->
为了支持Portal，协议需要以下三个附加功能：
1）铸造无担保代币BRIDGE：允许具有角色权限的地址为该地址铸造无担保代币。onBehalfOf
2）支持未支持的代币：允许具有角色权限的合约BRIDGE使用基础资产支持当前未支持的代币amount并支付fee。
3）白名单桥接器：允许桥接器角色管理员添加/删除地址BRIDGE_ROLE。

###### 效率模式 (eMode)
高效模式或eMode允许借款人在供应和借入资产价格相关时从其抵押品中提取最高的借贷能力，特别是当两者都是同一基础资产的衍生品时（例如与美元挂钩的稳定币）。
<!-- 这可以实现一系列新的用例，例如高杠杆外汇交易、高效收益农业（例如，存入 ETH 质押衍生品以借入 ETH）、多元化风险管理等。 -->

###### 隔离模式
新资产可在Aave方案V3中列为隔离资产。借款人提供一项单独的资产作为抵押品，不能提供其他资产作为抵押品（尽管他们仍然可以提供以获取收益）。使用隔离抵押品的借款人只能借入由Aave治理配置为在隔离模式下可识别的稳定币，最高可达指定的债务上限。

###### Siloed 借贷
Siloed 借贷允许具有潜在可操纵的预言机的资产（例如非流动性Uni V3货币对）在Aave上作为单个借入资产列出。这意味着，如果资产被配置为孤立的，它不能与其他资产同时借入。这有助于减轻与此类资产相关的风险，以免影响协议的整体偿付能力。

##### 风险管理
Aave V3带来了一个大大改进的设置风险参数和新功能，以保护协议免受破产。

###### 供应和借款上限
Aave治理现在可以配置借款和供应上限。
- 借款上限：允许调整每种资产的借款金额，从而降低破产风险。
- 供应上限：允许限制向Aave协议提供的特定资产的数量。这有助于减少对特定资产的暴露，并减轻诸如无限造币或价格预言操纵等攻击。

###### Granular Borrowing Power Control
在Aave V3中，可以将任何资产的借贷能力降低到0%，而不会对现有借款人产生任何影响（如果认为有必要，仍然可以使用旧方法-清算现有用户）

###### 风险管理员
Aave V3引入了Aave治理的能力，允许实体更新风险参数，并对每个更改进行治理投票。这些实体可以是DAO或自动化代理（例如，RiskDAO，Gauntlet），它可以建立在此功能之上，以便在发生意外事件时自动做出反应。

###### Price Oracle Sentinel
Sentinel功能为清算引入了宽限期，并在特定情况下禁止借款。
<!-- 此功能专为L2设计，以处理测序仪的最终停机时间（但可以扩展到处理其他情况，甚至在未来的L1上）。 -->

###### Variable Liquidation Close Factor
在V3中，清算机制得到了改进，允许头寸在接近破产时被完全清算，即HF < 0.95（以前任何时候只能清算一半头寸）。

##### Decentralisation 
引入了一个新的系统角色-ASSET_LISTING_ADMIN_ROLE-可以由Aave Governance授予，以允许管理员为每个资产列表创建和设置自定义资产列表策略。

##### 多个奖励代币
提供了每个令牌有多个奖励的选项。现在，资产列表可以启用以本地协议令牌命名的额外激励。用户也可以在单笔交易中为每项资产申请多种奖励类型。

### 2024.08.31
#### 效率模式
高效率模式功能（或“eMode”）旨在当抵押品和借入资产在价格上相关时最大限度地提高资本效率。
由Aave Governance设置的RISK_ADMIN和POOL_ADMIN最多可以配置255个eMode类别，每个EModeCategory具有以下风险管理参数：
- LTV (Loan to value) 
<!-- 贷款价值比 -->
- Liquidation threshold 
<!-- 清算门槛 -->
- Liquidation bonus 
<!-- 清算红利 -->
- A custom price oracle (optional)
<!-- 自定义价格oracle（可选） -->
Aave V3上列出的所有资产都可以通过RISK_ADMIN或POOL_ADMIN设置为任何预配置的eModeCategory。
eMode还提供了为某一类别引入特定价格预言的可能性。

##### 如何工作？
如果用户已向协议提供流动性，则用户eMode类别默认设置为0。
如果以下条件成立，则该方案允许用户将用户eMode类别设置为PoolManager配置的任何eModeCategories：
- 用户的所有借用资产都在所选择的类别中
- 改变eMode不会使用户头寸抵押不足

### 2024.09.01
#### 隔离模式
隔离模式允许将新资产列为隔离资产，该资产具有特定的债务上限，并且只能用于借入由Aave Governance配置为在隔离模式下可识别的稳定币。独立代表的债务上限是可以根据抵押品借入的最高美元金额。
- 供应隔离资产
用户可以像使用 pool.sol 中的 supply() 方法提供任何其他资产一样提供隔离资产，但是，提供隔离资产时的默认行为可能会因以下条件而异
开启：如果独立资产是用户提供的第一个资产或用户不启用其他提供的资产作为抵押品
关闭： 如果当前启用了任何其他资产作为抵押品
如果用户启用了其他资产作为抵押品，他们仍然可以提供隔离资产以获取收益，但不能将其用作抵押品

- 在隔离模式下借用
使用隔离资产作为抵押品的借款人只能使用该特定资产作为抵押品，并且只能借入在隔离模式下可抵押的资产，即在储备配置中设置了 BORROWABLE_IN_ISOLATION_MASK 位。

- 退出隔离模式
用户可以通过禁用隔离资产作为抵押品来关闭隔离模式。只有当用户没有未偿债务时才能这样做。在退出隔离模式之前，用户必须使用 Pool.sol 中的 repeat() 方法还清所有债务。

#### 孤岛借贷
此功能允许具有潜在可操纵的预言机的资产（例如非流动性Uni V3货币对）在Aave上作为单个借入资产列出。如果资产被配置为孤立的，它不能与其他资产同时借入。这有助于减轻与此类资产相关的风险，以免影响协议的整体偿付能力。
孤岛借贷可以被认为是隔离模式对抵押品的补充特征：其中一个指示资产是否需要成为头寸中唯一被借贷的资产（孤岛），另一个指示抵押品是否是头寸中唯一受健康因素影响的资产（隔离抵押品）。

- 供应孤岛资产
用户可以像使用 pool.sol 中的 supply() 方法提供任何其他资产一样提供 Siloed Asset，但是，该资产将无法用作抵押品，即提供的金额不会添加到用户的总抵押品余额中。

- 借用孤岛资产
用户可以使用 pool.sol 中的 borrow() 方法借用孤立资产，但仅限于以下情况：
这是第一次借用的地址或现有的用户债务是相同的孤立资产。
要检查用户是否处于“孤岛借用”状态，您可以使用 AaveProtocolDataProvider.sol 上的 getSiloedBorrowing() 方法查看用户借用的基础资产是否处于孤岛状态。

- 检查是否为孤立借用保留
```Sol
import {AaveProtocolDataProvider} from '@aave/core-v3/contracts/misc/AaveProtocolDataProvider.sol';
AaveProtocolDataProvider poolDataProvider = AaveProtocolDataProvider(provider.getPoolDataProvider());
// address of the underlying asset
address asset = "0x...";

protocolDataProvider.getSiloedBorrowing(asset);
```

#### 供应、借款上限
Aave Governance可以指定RISK_ADMIN和POOL_ADMIN，他们能够配置各个储备的借入和供应上限。

- 借款上限
允许调整每种资产的借款金额，从而降低破产风险。
默认情况下，资产的借用上限为0，表示没有上限。通过 ACLManager 被授予 RISK_ADMIN 或 POOL_ADMIN 角色的任何人都可以调用 PoolManager 中的 setBorrowCap 方法来更新给定储备的最大总借入（稳定+变量）。

- 供应上限
允许限制向Aave协议提供多少特定资产。这有助于减少对特定资产的暴露，并减轻诸如无限造币或价格预言操纵等攻击。
默认情况下，资产的供应上限为0，表示没有上限。通过 ACLManager 被授予 RISK_ADMIN 或 POOL_ADMIN 角色的任何人都可以在 PoolManager 中调用 setSupplyCap 方法来更新给定准备金的流动性供应。

### 2024.09.02
AMM是智能合约，可以创建资产池，使用户能够在没有订单簿或可信交易对手的情况下交换加密货币。AMM所建立的流动性池通常由两种或更多种资产组成，管理池的算法为代币设定价格。当用户想要交换代币时，他们连接到 DEX，选择要交换的代币，确认交易，然后流动性池智能合约完成其余的工作。虽然这看起来太容易了，但流动性池是 AMM 发挥作用的关键。

#### Constant Product AMMs (Semi-Technical)
常数乘积函数是资产定价模型为资产对定价的方法。常数乘积函数创建了一条双曲线，其中 x = k / y，k为常数。
曲线定义了一种资产相对于另一种资产的价格。用一点代数知识，可以看到一个熟悉的函数 x * y = k，其中 x 和 y 表示每种资产的准备金。好处是，当价格达到无限大时，始终具有流动性。
资产池的资产将沿着曲线浮动，价格由衍生品决定。
该机制是一个智能合约，它持有T1类型的A代币和T2类型的B代币，并保持A * B = k的不变量，其中k是常数（在人们可以投资的版本中，k可以改变，但仅在投资/提款交易期间，而不是交易）。任何人都可以在 x * y = k 曲线上选择一个新的点进行买卖，并提供缺失的A代币，作为交换获得额外的B代币（反之亦然）。“边际价格”仅仅是曲线 x * y = k 或 y / x 的隐式导数。

#### 流动性
流动性是任何市场的生命线。它描述了一种资产可以在不影响其价格的情况下交换另一种资产的容易程度。现金的流动性很强，因为它通常很容易兑换。真实的房地产等有形资产的流动性较低，因为许多因素--如房屋的供求--都会影响它们出售的速度和价格。稀有或奇异的资产可能流动性很差，因为很难找到现成的买家。
在最基本的层面上，加密货币的市场流动性根据代币的供应和需求而变化。它是一个函数，在某个时间点，有多少代币持有者愿意以什么价格出售。
通过传统的订单簿交换，您可以看到卖方愿意出售的数量和“要价”以及买方愿意支付的数量和“出价”。在高流动性的市场上，通常有很多准备好的买家和卖家在当前的市场价格。在流动性较低的市场中，最高买入价和最低卖出价之间存在价差（买入/卖出价差），这意味着有人需要调整价格或等待新订单以他们的价格进行交易。

#### 流动性池
流动性池由存入智能合约的两个或多个不同代币组成。它们是使 DEX、AMM和许多其他DeFi协议工作的关键创新，并且大多数都试图在池中的令牌之间保持比例平衡。例如，可以在智能合约中设置ETH/DAI流动性池，以维持50%的ETH和50%的DAI。
不需要等待人类交易对手同意与你交换加密代币，而是将你的代币注入池中，智能合约会自动提取适当数量的其他代币发送给你。

#### 滑移
滑点是预期价格与交易执行时的最终价格之间的差异。虽然滑点发生在许多市场，包括股票市场和加密订单市场，但它在AMM和DEX中可能很重要-特别是对于大型交易和小型流动性池。具有深度流动性的大型资金池更善于处理滑点更少的掉期交易。
例如，假设您想下一个市价订单，将10 ETH兑换为BANK（看涨！）。如此大规模的互换可能会从流动性池中移除大量的BANK代币。AMM在掉期发生时自动调整货币之间的汇率。在这种情况下，它会提高BANK的价格，导致您为每个代币支付更多的费用，最终收到的BANK代币比您从原始市场价格计算的要少-这就是滑点。
大多数AMM和DEX显示估计的滑点，并允许您设置您将接受的滑点的限制。但是，设置较低的滑点公差限制可能会使您的订单需要很长时间才能完成。

#### 流通量提供者
去中心化的交易所和资产管理公司不会使用自己的资金来填充流动性池，这将需要大量的资金。（仅Uniswap就有价值超过70亿美元的资产存放在其池中！）相反，他们从流动性提供者那里租用资产，这些提供者是赚取利息、费用和/或将加密货币代币存入池中的奖励的投资者。
当流动性提供者将代币存入池中时，他们会收到合成LP代币来代表他们的存款。他们可以稍后赎回LP代币以提取存入的代币。

#### 临时损失
虽然流动性提供者从他们存入的代币中赚取费用和奖励，但他们也面临着最终可能导致他们亏损的风险：永久性损失。当存放资产的市场价格与存放时相比发生变化时，就会发生临时损失。
AMM流动性池使用算法来保持池中代币价值之间的稳定比率。例如，50/50 ETH/DAI池旨在保持ETH代币的价值等于池中DAI代币的价值。如果ETH的价格在公开市场上上涨，套利交易者（或机器人）将通过存入DAI来购买流动性池中低于市场价格的ETH，直到两个代币的价值比率恢复到50/50。
因此，当流动性提供者赎回他们的LP代币时，他们可能会发现他们收到的代币价值低于他们简单地将其放在钱包中的价值。这种损失被称为非永久性的，因为在LP代币被赎回之前，损失是不确定的。如果代币的价格回到它们被存入时的价格，预计的损失将消失。

#### 套利
套利是指交易者利用价格之间或市场内部的价差获利。一个简单的例子是，当交易者发现两种不同DEX上资产价格之间的差异时。如果他们行动迅速，他们可以在一个交易所购买一堆价格较低的代币，然后在另一个交易所以较高的价格出售，赚取差价。
其他套利机会存在时，有一个显着的买卖差价的订单簿交换，或如上文所述，当临时损失发生在流动性池。不幸的是，对于人类交易员来说，很难击败机器人的速度，这些机器人被编程为寻找并快速提前套利机会。

### 2024.09.03
#### Uniswap
- v1
用户可以使用恒定的产品公式为任何具有ETH基础对的代币创建流动性池。虽然这为每种资产创造了流动性或市场深度，但在代币对之间切换效率低下且成本高昂，因为在交易前所有东西都必须转换为ETH。如果用户想用UNI交换AAVE，他们需要将UNI交换为ETH，然后将ETH交换为AAVE。

- v2
引入了几项新功能，并允许多个ERC20代币对，允许流动性提供者选择他们想要分配资产的代币对。这一创新为AMM采用的指数级增长奠定了基础，因为Uniswap允许许多小型资产通过其协议进行交易，为长尾资产提供服务。今天，Uniswap是最高度分叉的DeFi协议之一。
流动性沿着价格曲线提供，在所有价格范围内均匀分布。虽然这提供了所有价格的市场深度，但它不是资本效率。由于流动性分散在从零到无穷大的所有价格中，市场深度往往太薄，往往导致高度滑点，以及有限合伙人只能从其交易资金的一小部分资产中赚取费用。

- v3
通过引入集中的流动性创造了资本效率市场。集中的流动性使有限合伙人能够设定他们将提供流动性的价格区间，因此，他们的资本不会分散，而是可以被引导到市场活动更多的更窄的价格区间。集中的流动性通过向有限合伙人提供更高的费用以及增加市场深度来提高资本效率。
集中流动性的引入使Uniswap成为有史以来最灵活、最高效的AMM，也解决了创建资本高效分散市场的一些主要挑战。

### 2024.09.04
#### 去中心化交易所
DEX是一个平台，可以实现代币的交易和直接交换，而不需要中介机构（即中心化交易所）。你不需要经历 "了解你的客户"（KYC）流程的麻烦，也不会受到管辖范围的限制。

- DEX 的类型
（1. 基于丁单薄的 DEXs
订单簿是在不同价格水平上对某一特定资产的买入和卖出的订单列表。
<!-- 基于订单簿的DEXs，如dYdX、Deversifi和Loopring，其操作与CEXs类似，用户可以在他们选择的限价或市场价格上设置买卖订单。主要区别在于，在CEXs中，交易的资产被保存在交易所的钱包里，而对于DEXs，交易的资产被保存在用户的钱包里。
DEXs的订单簿可以是链上或链下的。基于链上订单簿的DEXs将所有订单记录在区块链上。然而，由于高油价，这在以太坊上已经不可行了。也就是说，这在以太坊第二层解决方案（如xDai）或高吞吐量的第一层区块链（如Solana）上仍然可以做到。
基于链外订单簿的DEX有交易订单记录在区块链之外。交易订单一直在链外，直到它们被匹配，这时交易就在链上执行。虽然这种方法具有较低的延迟，但有些人可能会认为，利用这种方法的DEX被认为是半去中心的。 -->
（2. 基于流动性池的 DEXs
流动性池（Liquidity pools）是位于DEXs智能合约上的代币储备，可供用户交换代币。大多数基于流动性池的DEXs利用自动做市商（AMM），这是一种以算法方式预测资产价格的数学函数。
<!-- AMM是DeFi近年来最具创新性的发明之一。它实现了7*24的市场时间，更高的资本可及性和效率。AMM有多种类型，不同的DEX已经实现了各种"口味"。在2020年DeFi夏季推出的大多数DEX是基于AMM的DEX，如Uniswap、SushiSwap、Curve、Balancer和Bancor。 -->

- 自动做市商 （AMM，Automated Market Makers）
与集中式交易所不同，集中式交易所的出价和要价订单放在订单簿上，AMMs 没有任何订单簿。相反，它依靠的是流动性资金池。流动性池本质上是持有两个或更多的代币的储备，这些代币存在于 DEX 的智能合约中，可供用户随时交易。
通过AMMs，交易者可以让他们的订单得到无缝执行，而不需要像Coinbase或Binance这样的集中式交易所提供流动性的集中式做市商。相反，订单是通过智能合约自动执行的，该合约将通过算法计算交易价格，包括交易执行的任何滑点。因此，你可以认为基于订单簿的交易所遵循点对点的模式，而AMMs则遵循点对合约的模式。
<!-- 一些比较流行的AMM公式如下：
（1. 恒定乘积做市商公式：x * y = k -->
<!-- 恒定乘积做市商公式首先由Uniswap和Bancor推广，是市场上最流行的AMM。绘制时，它是一条凸形曲线，其中x和y代表流动性池中两个代币的数量，而k代表乘积。该公式有助于根据每个代币的可用数量，为两个代币创造一个价格范围。
为了保持k不变，当x的供应增加时，y的供应必须减少，反之亦然。因此，所产生的价格本质上是不稳定的，因为交易的规模可能会影响到与池子规模有关的价格。大额交易造成的较高滑点可能会出现无常的损失。 -->
DEX在推动DeFi空间方面发挥了重要作用，因为它描绘了当前的市场行为，特别是加密货币的价格和流动性。它决定了各种加密货币相对于彼此的价值，并说明了交易和资本流动的动态性质。

### 2024.09.05
#### Dex 聚合器
流动性对于确保交易能够在不严重影响市场价格的情况下被执行是至关重要的。DEX市场竞争非常激烈，多个DEX在竞争用户和流动性。因此，流动性往往是不一样的，导致资本管理效率低下。
虽然对小型交易的影响可能不大，但大型DEX交易将容易出现较高的价格滑点。这就是DEX聚合器帮助交易者在各种DEX中获得最佳价格执行的地方。
DEX聚合器通过汇集不同DEX的流动性来寻找最具成本效益的交易路线。通过在多个流动性池子中路由单一交易，进行大额交易的交易者可以节约gas成本，并尽量减少因流动性低而影响价格的成本。

- 相关的风险
最好不要将DEX聚合器的报价视为“福音”。虽然DEX聚合器旨在确保执行的交易符合报价，但有时结果与预期会存在偏差。
另一点是交易的规模。尽管DEX聚合商为大型交易提供了更好的成本节约，但对于小型交易者来说，有时直接与DEX互动可能会更好。
DEX聚合器通常是可靠的，但也有交易通过小型和非流动性池的情况。作为一个用户，你应该在批准交易之前始终检查你的滑点是否过高。

- 总结
DEXs 是 DeFi 的生命线。然而，对于许多强大的用户（尤其是鲸鱼）来说，DEX聚合器更加重要，因为DEX聚合器可以为大型交易提供更好的成本效率。DEX聚合器甚至已经发展到拥有自己的流动性池的地步，进一步模糊了DEX聚合器和DEX之间的界限。
DEX聚合器是DeFi可组合性的一个典型例子。DEX聚合器是建立在DEX之上的，以服务于不同的用户。因此，我们从竞争加剧和相互融合所产生的更全面的创新产品套件中受益。

### 2024.09.06
Uniswap协议是一个点对点系统，旨在在以太坊区块链上交换加密货币（ERC-20）。该协议是作为一组持久的、不可撤销的智能合约实现的;旨在优先考虑审查阻力、安全性、自我保管，并且在没有任何可选择性限制访问的可信中介的情况下运行。

- 订单簿 VS AMM
大多数可公开访问的市场使用中央限价订单簿交易方式，买家和卖家根据价格水平创建订单，并随着需求的变化逐步完成。任何通过经纪公司交易股票的人都会熟悉订单系统。
Uniswap 协议采用了不同的方法，使用自动做市商（AMM），有时称为常数功能做市商，代替订单簿。
在一个非常高的水平上，AMM用两种资产的流动性池取代了订单簿市场中的买入和卖出订单，两者的价值都是相对的。当一种资产被交易为另一种资产时，两种资产的相对价格发生变化，并确定了两者的新市场利率。在这种动态中，买方或卖方直接与池进行交易，而不是与其他方留下的特定订单进行交易。自动做市商相对于传统的订单簿对手的优势和劣势正在被越来越多的各方积极研究。

- 无需许可的系统
与传统市场的第二个不同之处是Uniswap协议的无许可和不可变设计。这些设计决策的灵感来自以太坊的核心原则，以及我们对无许可访问和不变性的理想的承诺，这是未来世界上任何人都可以获得金融服务而不必担心歧视或对手方风险的不可或缺的组成部分。
无许可设计意味着协议的服务完全开放给公众使用，没有能力选择性地限制谁可以或不能使用它们。任何人都可以随意交换、提供流动性或创造新市场。这与传统的金融服务不同，传统的金融服务通常会根据地理位置、财富状况和年龄限制访问。
该协议也是不可变的，换句话说，不可重写。任何一方都不能暂停合同、逆转交易执行或以任何方式改变协议的行为。值得注意的是，Uniswap Governance有权（但没有义务）将任何池的一定比例的掉期费用转移到指定地址。然而，所有参与者事先都知道这种能力，为了防止滥用，百分比限制在10%至25%之间。

- 集中流动性
Uniswap v3的定义思想是集中流动性：在自定义价格范围内分配的流动性。在早期的版本中，流动性沿着价格曲线在0到无穷大之间均匀分布。
以前的均匀分布允许在整个价格区间（0，∞）进行交易，而不会损失任何流动性。然而，在许多资金池中，大部分流动性从未使用过。
考虑稳定币对，其中两种资产的相对价格保持相对恒定。在稳定币对的典型价格范围之外的流动性很少被触及。例如，v2 DAI/USDC货币对利用总可用资本的约0.50%在0.99美元至1.01美元之间进行交易，在该价格范围内，有限合伙人预计交易量最大，从而赚取最多的费用。
对于v3，流动性提供者可以将其资本集中在比（0，∞）更小的价格区间。例如，在稳定币/稳定币对中，LP可以选择将资本仅分配到0.99 - 1.01的范围内。因此，交易者在中间价附近获得了更高的流动性，而有限合伙人用他们的资本赚取更多的交易费用。我们把流动性集中在一个有限的区间称为头寸. LP可能在每个池中拥有许多不同的头寸，从而创建反映每个LP偏好的个性化价格曲线。

- 积极流动性
随着资产价格的上涨或福尔斯下跌，它可能会退出有限合伙人在头寸中设定的价格界限。当价格退出头寸的区间时，头寸的流动性不再活跃，不再赚取费用。
当价格向一个方向移动时，有限合伙人会获得更多的一种资产，因为互换者需要另一种资产，直到他们的全部流动性只包括一种资产。(In v2，我们通常不会看到这种行为，因为LP很少达到两种资产价格的上限或下限，即，0和∞）。如果价格再次进入区间，流动性再次变得活跃，范围内的有限合伙人开始再次赚取费用。
重要的是，有限合伙人可以自由创建他们认为合适的头寸，每个头寸都有自己的价格区间。集中的流动性是一种机制，让市场决定什么是合理的流动性分配，因为理性的有限合伙人在确保流动性保持活跃的同时，会激励他们集中流动性。

- Ticks
为了实现集中的流动性，曾经连续的价格空间谱已经用 Ticks 划分。
报价是价格空间中离散区域之间的边界。刻度的间隔使得 1 个刻度的增加或减少代表价格空间中任何一点的价格增加或减少0.01%。
报价是流动性头寸的边界。当一个位置被创建时，提供者必须选择代表其位置边界的上下刻度。
随着现货价格在交换过程中的变化，池合约将不断地将出站资产交换为入站资产，逐步使用当前报价间隔1内的所有可用流动性，直到达到下一个报价。在这一点上，合约切换到一个新的报价，并激活任何休眠的流动性的立场，有一个边界在新的活跃报价。
虽然每个池都有相同数量的基础报价，但实际上只有一部分能够作为活动报价。由于v3智能合约的性质，报价间隔与掉期费用直接相关。较低的费用等级允许更接近的潜在活跃报价，较高的费用允许相对较宽的潜在活跃报价间隔。
虽然非活跃报价对掉期交易的交易成本没有影响，但交叉活跃报价确实会增加交易成本，因为交叉报价将激活任何新头寸的流动性，使用给定的报价作为边界。
<!-- 在资本效率至关重要的领域，例如稳定的硬币对，较窄的报价间隔增加了流动性供应的粒度，并可能降低交换时的价格影响-结果是稳定硬币交换的价格显着提高。 -->

### 2024.09.07
Fees
转换费用按比例分配给转换时所有在范围流动性。如果现货价格超出头寸的范围，则给定的流动性不再活跃，并且不会产生任何费用。如果现货价格反转并重新进入头寸范围，头寸的流动性将再次活跃并产生费用。
转换费不会像以前版本的Uniswap那样自动再投资。相反，它们是从游泳池中单独收集的，当所有者希望收取费用时，必须手动赎回。
- 泳池费用等级
Unissup v3 为每个令牌对引入了多个池，每个池的交换费用不同。流动性提供者最初可以按三种费用水平创建池：0.05%，0.30%和1%。
<!-- UNI治理可能会增加更多费用水平，例如，本治理提案于2021年11月增加的0.01%费用水平，如此处所执行。 -->
由于流动性分散的问题，将货币对分成单独的池在以前是站不住脚的。通过更多的费用选择权实现的任何激励调整都不可避免地导致交易者的净损失，这是由于成对流动性降低以及由此导致的对交换的价格影响增加。
集中流动性的引入使总流动性不受价格影响。随着价格影响问题的解决，将货币对分解为多个池成为一种可行的方法，可以改善以前因0.30%的互换费而无法提供服务的资产池的功能。

<!-- - 寻找合适的水池费用
我们预计，某些类型的资产将倾向于特定的费用等级，这取决于互换者和流动性提供者的激励措施最接近一致的地方。
我们预计低波动性资产（稳定币）可能会聚集在最低费用层，因为持有这些资产的流动性提供者的价格风险非常低，这些交换将有动力追求最接近1：1的执行价格。
同样，我们预计更多的稀缺资产，或那些很少交易的资产，将自然地倾向于更高的费用-因为流动性提供者将有动力抵消在其头寸期间持有这些资产的成本风险。 -->

### 2024.09.08
#### 选择流动性管理者的关键因素
1. 安全与风险管理
<!-- 当您将流动性托付给其他人时，安全性就至关重要。以下是需要注意的事项： -->
- 良好实践
去中心化：自动化策略的执行应通过投票系统或多签名机制进行管理，而不是依赖于外部拥有的账户。
基于资产的份额计算：使用资产的实际价值而不是其市场价格进行份额计算可以降低风险。
间接存款入池：更安全的方法是首先将存款单独持有，然后转移到池中，以减少遭受闪贷等攻击的风险。
强大的价格差异管理：有效控制价格差异是关键。合理限制价格差异可以防止剥削。
安全审计：ALM 应由信誉良好的公司进行多次适当的审计。
- 不良做法
直接存款到池中：这可能会带来各种攻击的风险。
过度依赖资产价格：由于市场波动，过多地基于资产价格做出决策可能会存在风险。
价格差异控制不充分：价格差异限制范围过宽或设置不当可能会导致严重的漏洞。
2. 策略
- 透明度和可访问性
流动性提供者（LP）应充分了解所采用的策略、执行流程、资金存入周期以及平台的整体开放性。这意味着要清楚地了解他们的资金是如何管理的、投资的特定资产以及相关的风险和回报。开放平台提供详细的报告、易于理解的分析和直接的沟通渠道，确保投资者永远不会对他们的资金在哪里以及他们的表现一无所知。
- 选项和功效
不同的投资目标和风险承受能力需要不同的策略。评估这些策略在历史上的有效性以及它们如何应对市场波动至关重要。例如，考虑像Sushi's Smart Pools这样的创新选项，它提供如下优惠策略：
Channel Multiplier Pool、Moving Volatility Pool、Stable Pool、Elastic Expansion Pool、High Low Channel Pool
这些资金池动态适应不断变化的市场条件，旨在在管理风险的同时实现回报最大化。此类策略的有效性通常可以通过其过去在各种市场情况下的表现、市场低迷期间的弹性以及利用新兴机会的能力来衡量。
3. 分配
流动性管理者如何处理收益很重要。您想要透明度和无麻烦。有些（例如智能矿池）与 Merkl 等非托管流动性挖矿机制集成，允许用户无需持有矿池代币即可进行挖矿。
其他附加指标
锁定总价值（TVL）通常用于衡量流动性管理者。但不要就此止步。查看他们的历史表现、他们为回测策略提供哪些工具以及其他用户的反馈。

##### 结论
在 DeFi 中选择合适的流动性管理器就是找到安全性、易用性、有效策略和良好记录的正确组合。了解你的投资目标和风险承受能力，做好功课。
查看同行评审以及这些管理者过去的表现。这将帮助您在快节奏的 DeFi 世界中找到适合您需求的流动性管理器。

<!-- Content_END -->
